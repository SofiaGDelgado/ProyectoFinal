<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <h:outputScript library="js" name="cal.js"  />
        <h:outputStylesheet name="./css/fondo_1.css" />
        <h:outputStylesheet name="./css/cssLayout.css"/>
        
        <title>Pagina Registro Administrador</title>
    </h:head>
    <h:body>
          <style type="text/css">
                    .label {
                        width:20%;
                        padding:4px;
                    }

                    .value {
                        width:80%;
                        padding:4px;
                    }

                    .grid {
                        width:100%;
                    }

                    .error {
                        color: red;
                    }

                    .outputLabel {
                        font-weight: bold;
                    }

                    .grid {
                        width:33%;
                        padding:4px;
                    }

                </style>
   
     <h:form id="frmRegistro">
                    
        <p:growl id="growl" sticky="true" showDetail="true"/>
        <p:breadCrumb>
            <p:menuitem value="Home"  url="template/principal.xhtml" />
            <p:menuitem value="Lista de Clientes/Usuarios"  url="/listaClientes.xhtml" />
            <p:menuitem value="Registro" url="#" />
            
        </p:breadCrumb>
        <p:separator />
        <p:wizard flowListener="#{clienteFormBean.onFlowProcess}">
                        <p:tab id="usuario" title="Usuario"  >
                            <p:panel id="pnl1">
                                <p:messages />
                                <h:panelGrid columns="2" columnClasses="label, value">
                                     <p:outputLabel id="lbl3"
                                               value="Nombres: "
                                               for="nombre" />

                                <p:inputText id="nombre"
                                             value="#{clienteFormBean.unUsuario.nombres}"
                                             required="true"/>

                                <p:outputLabel id="lbl4"
                                               value="Apellidos: " 
                                               for="apellidos" />
                                <p:inputText id="apellidos"
                                             value="#{clienteFormBean.unUsuario.apellidos}"
                                             required="true" />
                                <p:outputLabel id="lbl1"
                                               value="Nombre Usuario: " for="nombreUsuario" />
                                     <p:inputText id="nombreUsuario"
                                             value="#{clienteFormBean.unUsuario.nombreUsuario}"
                                             required="true"
                                             size="10" />

                                <p:outputLabel id="lbl2" value="Contraseña: " for="passwordUsuario" />
                                <p:password id="passwordUsuario"
                                            value="#{clienteFormBean.unUsuario.password}"
                                            feedback="true"
                                            required="true" />
                                <p:outputLabel id="lbl10" value="Tipo de Usuario: " for="tipo" />
                                 <p:selectOneMenu id="tipo" 
                                                  value="#{clienteFormBean.unUsuario.tipoUsuario}" 
                                                 required="true">
                                     <f:selectItem itemLabel="Seleccionar tipo de usuario" 
                                                   itemValue="#{null}" 
                                                   noSelectionOption="true"    />
                                         <f:selectItems value="#{clienteFormBean.listadoTipos}" 
                                                        var="a" 
                                                        itemValue="#{a}" />
                                         </p:selectOneMenu>
                               </h:panelGrid>
                            </p:panel>
                        </p:tab> 
                                

                                        

                        <p:tab id="cliente" title="Cliente">
                            <p:panel id="pnl2">
                                <p:messages />
                                <h:panelGrid columns="1" columnClasses="label, value">
                                    
                                    <p:outputLabel id="lbl5" value="DNI: " for="dni"/>
                                <p:inputMask id="dni"
                                              value="#{clienteFormBean.unCliente.dni}"
                                              required="true"
                                              mask="99999999" 
                                              />
                                 <p:outputLabel id="lbl9" 
                                               for="fechaNac" 
                                               value="Fecha de nacimiento: " />
                                <p:calendar id="fechaNac" 
                                            value="#{clienteFormBean.unCliente.fechaNac}"
                                            required="true" 
                                            locale="es" >
                                </p:calendar> 
                                <p:outputLabel id="lbl6" value="Domicilio: " for="domicilio" />
                                <p:inputTextarea id="domicilio" 
                                                 value="#{clienteFormBean.unCliente.domicilio}"
                                                 required="true" 
                                                 rows="5"
                                                 cols="35" 
                                                 counter="display"
                                                 maxlength="50" 
                                                 counterTemplate="{0} caracteres disponibles." 
                                                 autoResize="false" />
                                <h:outputText id="display" />


                                <p:outputLabel id="lbl8" value="Pais: " for="pais" />
                                <p:selectOneMenu id="pais" 
                                                 value="#{clienteFormBean.unCliente.pais}" 
                                                 required="true">
                                     <f:selectItem itemLabel="Seleccionar pais" 
                                                   itemValue="#{null}" 
                                                   noSelectionOption="true"    />
                                         <f:selectItems value="#{clienteFormBean.listadoPaises}" 
                                                        var="a" 
                                                        itemValue="#{a}" />
                                         </p:selectOneMenu>

                                <p:outputLabel id="lbl7"
                                               value="Provincia/Estado/Departamento: " 
                                               for="provincia"/>

                                    <p:multiSelectListbox id="provincia"
                                                          value="#{clienteFormBean.unCliente.provincia}" 
                                                          effect="slide" 
                                                          header="Pais"
                                                          showHeaders="true"
                                                          required="true"  >
                                        <f:selectItems value="#{multiSelectView.categories}" />

                                    </p:multiSelectListbox>

                               <p:outputLabel id="lbl13" 
                                               value="Telefono: "
                                               for="phone" />
                                <p:inputMask id="phone" 
                                             value="#{clienteFormBean.unCliente.telefono}"
                                             mask="(999) 999-9999" />

                                <p:outputLabel id="lbl11"
                                               value="E-mail: "
                                               for="mail"/>
                                <p:inputText id="mail"
                                             required="true"
                                             maxlength="40" 
                                             size="40"
                                             value="#{clienteFormBean.unCliente.mail}" >
                                    <f:validator validatorId="emailValidator" />
                                </p:inputText>

                                </h:panelGrid>
                            </p:panel>
                        </p:tab>

                        
                        <p:tab id="confirm" title="Confirmacion">
                            <p:panel header="Confirmando datos">
                                <h:panelGrid id="confirmation" columns="2" columnClasses="grid,grid">
                                    <h:panelGrid columns="2" columnClasses="label, value">
                                        <h:outputText value="Nombres: " />
                                        <h:outputText value="#{clienteFormBean.unUsuario.nombres}" styleClass="outputLabel"/>

                                        <h:outputText value="Apellidos: " />
                                        <h:outputText value="#{clienteFormBean.unUsuario.apellidos}" styleClass="outputLabel"/>

                                        <h:outputText value="DNI: " />
                                        <h:outputText value="#{clienteFormBean.unCliente.dni}" styleClass="outputLabel"/>

                                        <h:outputText value="Fecha de nacimiento: " />
                                        <h:outputText value="#{clienteFormBean.unCliente.fechaNac}" styleClass="outputLabel"/>
                                    </h:panelGrid>

                                    <h:panelGrid columns="2" columnClasses="label, value">
                                        <h:outputText value="Domicilio: " />
                                        <h:outputText value="#{clienteFormBean.unCliente.domicilio}" styleClass="outputLabel"/>

                                        <h:outputText value="Pais: " />
                                        <h:outputText value="#{clienteFormBean.unCliente.pais}" styleClass="outputLabel"/>

                                        <h:outputText value="Provincia: " />
                                        <h:outputText value="#{clienteFormBean.unCliente.provincia}" styleClass="outputLabel"/>


                                    </h:panelGrid>

                                    <h:panelGrid columns="2" columnClasses="label, value">
                                        <h:outputText value="Telefono: " />
                                        <h:outputText value="#{clienteFormBean.unCliente.telefono}" styleClass="outputLabel"/>

                                        <h:outputText value="E-mail: " />
                                        <h:outputText value="#{clienteFormBean.unCliente.mail}" styleClass="outputLabel"/>

                                        <h:outputText />
                                        <h:outputText />
                                    </h:panelGrid>

                                    <h:panelGrid columns="2" columnClasses="label, value">
                                        <h:outputText value="Usuario: " />
                                        <h:outputText value="#{clienteFormBean.unUsuario.nombreUsuario}" styleClass="outputLabel"/>

                                        <h:outputText value="Contraseña: " />
                                        <h:outputText value="#{clienteFormBean.unUsuario.password}" styleClass="outputLabel"/>

                                        <h:outputText value="Tipo de Usuario"/>
                                        <h:outputText value="#{clienteFormBean.unUsuario.tipoUsuario}" styleClass="outputLabel" />
                                    </h:panelGrid>

                                </h:panelGrid>

                                <p:commandButton id="btnRegistrarse" value="Registrar Usuario" update="frmRegistro" action="#{clienteFormBean.agregarAdmin()}" />
                          
                            </p:panel>
                        </p:tab>
                    </p:wizard>

                </h:form>
    </h:body>


</html>

